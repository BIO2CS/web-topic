# 用户输入 url 到页面展现的过程

这是一道很经典的面试题了，考察点也是很多，dns 解析、http、浏览器渲染的过程等等，github 上也有个仓库详细的解释了这个过程，[what-happens-when](https://github.com/alex/what-happens-when)，所以我按照自己的思路再提炼一次

1. 首先，计算机是不会和人打交道的，那么要让他它打交道那么我们需要输出和输入设备，这里我们需要输入设备键盘、鼠标和输出设备显示器，当然了我们还需要一个浏览器，浏览器是一个软件，是一个可以运行在计算机上供用户浏览网页的软件

2. 当我们输入 url 的时候，发生了什么？我们在按键，键盘有按下和抬起的区别，当我们按下的时候系统中断，并且键盘驱动取得当前按键的扫描码发送给 CPU，CPU 通过对应表找到显示字符并发送给浏览器，浏览器显示该字符
    + 按下和抬起的时候键盘电路快速的开和关，所以避免误判，这里会做防抖处理，并且按下后长时间不放会做多次按键处理
    + 系统中断这个有点像 angular 的脏值检测，不是通过轮询来实现数据检测，而是在特定的事件发生后进入检测，系统中断也是如此，不然的话要一直检测输入设备的状态 low
    + 对应表是扫描码和显示字符的对应
    + 输入过程中浏览器会根据输入历史和建议显示相近的字符供用户选择

3. url 输入完毕后按下回车，这时候浏览器会解析 url 并验证 url 的正确性，如果协议或域名不正确则会传递给设置的搜索引擎